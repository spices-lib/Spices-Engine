# **Project Introduction**

---

**Project Name:** Spices Engine<br />**Start Date**: March 27, 2024<br />**Project Purpose**:<br />The primary objective of the Spices Engine project is to validate and deepen my understanding and proficiency in several advanced fields of graphics programming and engine development, specifically Vulkan, engine development principles, C++, rendering pipelines, ray tracing, and shader development. Prior to writing the first line of code, I underwent a rigorous six-month period of study to ensure I had the necessary knowledge to successfully complete this project.<br />**Project Features and Implementation**:

1. **Premake Auto Build**
2. **Vulkan Render backend**
3. **Rasterization Pipeline**
4. **Ray Tracing Pipeline**
5. **Physically Based Rendering (PBR)**
6. **Entity Component System (ECS)**
7. **Log System**
8. **Documentation**
9. **Rendering Pipeline Analysis**
10. **Performance Analysis**
11. **Unit Test**
12. **Git Version Control**
13. **User Interface(Imgui)**

**Project Todo:**

1. **Bi-Directional Path Tracing**
2. **Houdini LiveLink**

**Device:**

1. **NVIDIA GeForce RTX 4060**

**Reference:**

1. [**https://github.com/TheCherno/Hazel**](https://github.com/TheCherno/Hazel)
2. [**https://github.com/travisvroman/kohi**](https://github.com/travisvroman/kohi)
3. [**https://github.com/blurrypiano/littleVulkanEngine**](https://github.com/blurrypiano/littleVulkanEngine)
4. [**https://github.com/EasyJellySniper/Unheard-Engine**](https://github.com/EasyJellySniper/Unheard-Engine)
5. [**https://github.com/KhronosGroup/Vulkan-Samples/tree/main**](https://github.com/KhronosGroup/Vulkan-Samples/tree/main)
6. [**https://github.com/SaschaWillems/Vulkan**](https://github.com/SaschaWillems/Vulkan)
7. [**https://github.com/Zielon/PBRVulkan**](https://github.com/Zielon/PBRVulkan)
8. [**https://github.com/nvpro-samples/vk_mini_path_tracer**](https://github.com/nvpro-samples/vk_mini_path_tracer)
9. [**https://github.com/nvpro-samples/vk_raytracing_tutorial_KHR**](https://github.com/nvpro-samples/vk_raytracing_tutorial_KHR)
10. [**https://docs.vulkan.org/tutorial/latest/00_Introduction.html**](https://docs.vulkan.org/tutorial/latest/00_Introduction.html)
11. [**https://github.com/KhronosGroup/Vulkan-Guide**](https://github.com/KhronosGroup/Vulkan-Guide)
12. [**https://github.com/KhronosGroup/Vulkan-Samples**](https://github.com/KhronosGroup/Vulkan-Samples)
13. [**https://github.com/SaschaWillems/Vulkan-glTF-PBR**](https://github.com/SaschaWillems/Vulkan-glTF-PBR)
14. [**https://zeux.io/2020/02/27/writing-an-efficient-vulkan-renderer/**](https://zeux.io/2020/02/27/writing-an-efficient-vulkan-renderer/)
15. [**https://github.com/GPUOpen-LibrariesAndSDKs/glTFSample**](https://github.com/GPUOpen-LibrariesAndSDKs/glTFSample)
16. [**https://www.saschawillems.de/**](https://www.saschawillems.de/)
17. [**https://taidaesal.github.io/vulkano_tutorial/**](https://taidaesal.github.io/vulkano_tutorial/)
18. [**https://www.gsn-lib.org/docs/nodes/raytracing.php**](https://www.gsn-lib.org/docs/nodes/raytracing.php)
19. [**https://puluo.top/optix_01/**](https://puluo.top/optix_01/)
20. [**https://raytracing.github.io/books/RayTracingInOneWeekend.html#diffusematerials/truelambertianreflection**](https://raytracing.github.io/books/RayTracingInOneWeekend.html#diffusematerials/truelambertianreflection)
21. [**https://www.willusher.io/graphics/2019/11/20/the-sbt-three-ways/**](https://www.willusher.io/graphics/2019/11/20/the-sbt-three-ways/)
22. [**https://www.pbr-book.org/4ed/contents**](https://www.pbr-book.org/4ed/contents)
# Project **screenshot**

---

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721468942734-334a66bf-5482-4f72-8b4e-ff24bea2792a.png#averageHue=%232e5250&clientId=u3caa4349-6f5a-4&from=paste&height=927&id=u86621213&originHeight=1391&originWidth=2560&originalType=binary&ratio=1&rotation=0&showTitle=false&size=3576004&status=done&style=none&taskId=u43d13339-3209-4388-95a4-d9688efcf63&title=&width=1706.6666666666667)
# Git Desktop Clone

---

URL
https://github.com/spices-lib/Spices-Engine.git

- **SDK dependency**
   - [Vulkan SDK 1.3.275.0](https://vulkan.lunarg.com/)
- **Submodule dependency**
   - [GLFW @ 9bed794](https://github.com/TheCherno/glfw/tree/9bed794ab7c1b961aaca259403695bbd3870d3b3)
   - [IconFontCppHeaders @ f30b1e7](https://github.com/juliettef/IconFontCppHeaders/tree/f30b1e73b2d71eb331d77619c3f1de34199afc38)
   - [ImGuizmo @ ba662b1](https://github.com/CedricGuillemet/ImGuizmo/tree/ba662b119d64f9ab700bb2cd7b2781f9044f5565)
   - [glm @ ee7e155](https://github.com/spices-lib/glm/tree/ee7e155649041fd83920fdd045d28d0d5310a70d)
   - [imgui @ 8d88308](https://github.com/spices-lib/imgui/tree/8d883081f68aea723aa4de7cc28c9511b55f9883)
   - [implot @ b6fc717](https://github.com/spices-lib/implot/tree/b6fc71745b8471e2fda6f17dd40586145269971a)
   - [spdlog @ d276069](https://github.com/gabime/spdlog/tree/d276069a6e916b1e1fd45885b15b72bd8ee000a7)
   - [tracy @ 521e371](https://github.com/wolfpld/tracy/tree/521e371c60e37b47ffb8b0330d310af7061e0af8)
   - [yaml-cpp @ ac5a1ca](https://github.com/spices-lib/yaml-cpp/tree/ac5a1ca552659ea1737db862f4037226dc11b7d4)
   - [googletest @ 6a6515b](https://github.com/spices-lib/googletest/tree/6a6515b8afbddcdc7bc6c1133256e153f39d6e03)
- **program dependency**
   - Doxygen
   - Nsight Graphics
   - Nsight System
# Premake Auto Build

---

Double click  **Startup.bat**  and it will generate visual studio 2022 project by all **premake5.lua** files this project automatically.<br />These files determine the building of the project：

- **lib.lua**
- **premake5.lua**
- **SpicesEngine/premake5.lua**
- **SpicesGame/premake5.lua**
- **SpicesTest/premake5.lua**
- **SpicesEngine/vendor/GLFW/premake5.lua**
- **SpicesEngine/vendor/imgui/premake5.lua**
- **SpicesEngine/vendor/implot/premake5.lua**
- **SpicesEngine/vendor/yaml-cpp/premake5.lua**
- **SpicesTest/vendor/googletest/premake5.lua**
# Vulkan Render backend

---

Spices Engine use vulkan as render backend
# Rasterization Pipeline

---

- **Scene screenshot**

![SwapChainImage.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721471601026-0add88cf-38b0-45ac-b818-d70de73ee049.png#averageHue=%23475924&clientId=u7a1e0cda-1053-4&from=drop&id=u90ca8fc9&originHeight=1300&originWidth=2200&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=412682&status=done&style=none&taskId=ud47f99ad-8d47-4540-8925-e7416419c49&title=)

- **Nsight screenshot**

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721471634889-f4f303b5-c875-47d5-a7c5-e8b9c546cdae.png#averageHue=%23d68741&clientId=u7a1e0cda-1053-4&from=paste&height=295&id=u3dcdbb0e&originHeight=369&originWidth=2181&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=48638&status=done&style=none&taskId=ua414e5b7-a791-408e-825b-3d82550b86b&title=&width=1744.8)<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721471798707-dffed65d-3c01-4a1b-9e3a-975b398fbc17.png#averageHue=%23343433&clientId=u7a1e0cda-1053-4&from=paste&height=699&id=u92d68e44&originHeight=874&originWidth=1476&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=94193&status=done&style=none&taskId=ud68c5d18-323f-421c-b719-f69acc46549&title=&width=1180.8)

- **c++ renderer code sample**

file in:  SpicesEngine/src/Render/Renderer/SpecificRenderer/BasePassRenderer.cpp<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721471999802-48a549c7-b2bb-4881-86e8-dd524f13218f.png#averageHue=%23282727&clientId=u7a1e0cda-1053-4&from=paste&height=909&id=UUpM8&originHeight=1136&originWidth=1185&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=248199&status=done&style=none&taskId=ub87edc5f-9554-4ee0-b471-f793050480c&title=&width=948)<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721472055403-6b4f3c0e-627a-4571-8e22-deef725b402a.png#averageHue=%23272626&clientId=u7a1e0cda-1053-4&from=paste&height=975&id=UIgDv&originHeight=1219&originWidth=1204&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=181096&status=done&style=none&taskId=u05993ca7-190d-4902-8bdd-4f6592223ba&title=&width=963.2)

- **shader code sample**

file in:  SpicesEngine/assets/Shaders/src/Shader.BasePassRenderer.Mesh.Default.vert<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721472223309-77d85a29-7367-4d41-8f99-87a441568d14.png#averageHue=%23262626&clientId=u7a1e0cda-1053-4&from=paste&height=1026&id=bJAyO&originHeight=1282&originWidth=1027&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=125907&status=done&style=none&taskId=u89f3b53d-ae3d-4186-a915-8cb3d2813e6&title=&width=821.6)
# Ray Tracing Pipeline

---

- **Scene screenshot**

![SwapChainImage__2_.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721472619750-cda5ffc6-09d0-46a4-aa00-00b15330fdeb.png#averageHue=%232f464c&clientId=u7a1e0cda-1053-4&from=drop&id=ubeb88d1d&originHeight=1369&originWidth=2560&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=1869161&status=done&style=none&taskId=u8818103c-7971-4a98-a0de-dfa4a6481be&title=)

- **Nsight screenshot**

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721472700722-c421211b-4fde-4335-8b66-9542fda1ffb4.png#averageHue=%23373636&clientId=u7a1e0cda-1053-4&from=paste&height=1037&id=u232e39ad&originHeight=1296&originWidth=1972&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=168392&status=done&style=none&taskId=u8e0cae6a-a26e-476c-aabc-c873c7d477e&title=&width=1577.6)

- Acceleration Structures

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721472846986-bf28b6fa-35e8-4d8e-9d46-4ec3cf341425.png#averageHue=%23447d88&clientId=u7a1e0cda-1053-4&from=paste&height=1028&id=u93b8f91d&originHeight=1285&originWidth=2056&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=567772&status=done&style=none&taskId=u614c5b0a-8c50-41ca-a151-da81cceaa79&title=&width=1644.8)

- Shader Timeing Heatmap

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721473072152-14ec6377-b286-4444-8075-02166f0b2d07.png#averageHue=%23001c7a&clientId=u7a1e0cda-1053-4&from=paste&height=774&id=ubf044657&originHeight=968&originWidth=2042&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=917712&status=done&style=none&taskId=u1a550f86-9735-459c-9c60-f9a7d518c35&title=&width=1633.6)

- **c++ renderer code sample**

file in: SpicesEngine/src/Render/Renderer/SpecificRenderer/RayTracingRenderer.cpp<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721473200196-6ad4e69e-6566-48c4-a2a4-ba597b6d6c02.png#averageHue=%23282726&clientId=u7a1e0cda-1053-4&from=paste&height=274&id=O0YzU&originHeight=342&originWidth=1609&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=120175&status=done&style=none&taskId=ub6b7c628-3d20-4880-bf20-8a6fcfbfc7c&title=&width=1287.2)<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721473221155-f8820f5d-dc24-4f6c-9c5f-09e03fc8673f.png#averageHue=%23272626&clientId=u7a1e0cda-1053-4&from=paste&height=727&id=Azsc2&originHeight=909&originWidth=1260&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=137881&status=done&style=none&taskId=u8068c5d2-c39a-4b9e-95d1-31ea38209fa&title=&width=1008)

- **shader code sample**

file in:  SpicesEngine/assets/Shaders/src/Header/ShaderClosestHit.glsl<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721473325987-94759c37-ae33-4c27-b694-3a897fd60d3b.png#averageHue=%23282727&clientId=u7a1e0cda-1053-4&from=paste&height=967&id=J6eBz&originHeight=1064&originWidth=1020&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=126405&status=done&style=none&taskId=u14de1198-ed52-4036-b24b-823cd225c7b&title=&width=927.2727071746326)
# Physically Based Rendering (PBR) 

---

- **BRDF diffuse**

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721473825047-6fdca373-fb26-4784-993e-1b211bcb2825.png#averageHue=%2353657d&clientId=u7a1e0cda-1053-4&from=paste&height=805&id=u7e610bbe&originHeight=1006&originWidth=1994&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=3347087&status=done&style=none&taskId=u76baa548-1ec8-47a1-b75b-62e71df6e5f&title=&width=1595.2)

- **BRDF specular - Normal distribution + Geometric shadowing term + Fresnel**

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721474171005-c3b28cb0-8f2a-4716-8f19-4083e66358a8.png#averageHue=%23030300&clientId=u7a1e0cda-1053-4&from=paste&height=807&id=u1321c94c&originHeight=1009&originWidth=1986&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=760964&status=done&style=none&taskId=u09a6eaca-550a-454a-b76e-06b9770e679&title=&width=1588.8)

- **BRDF diffuse + specular**

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721474313751-c45949c5-0711-473f-b945-78c5df42acb6.png#averageHue=%234d6984&clientId=u7a1e0cda-1053-4&from=paste&height=808&id=ua3cb8af2&originHeight=1010&originWidth=1995&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=3878116&status=done&style=none&taskId=u74090082-8037-45f9-93b0-56c862e7d10&title=&width=1596)

- **PBR Shader code sample**

file in:  SpicesEngine/assets/Shaders/src/Header/ShaderFunctionLibrary.glsl<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721474431169-0c8a1f41-69d8-40c0-9119-f66345609643.png#averageHue=%23272626&clientId=u7a1e0cda-1053-4&from=paste&height=798&id=qVVB2&originHeight=997&originWidth=1219&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=117018&status=done&style=none&taskId=ucbe3bb33-11d1-4a4c-a4f3-cd69ac44beb&title=&width=975.2)

- **Material sample**

file in: SpicesEngine/assets/Materials/src/Material.BasePassRenderer.Mesh.Default.material<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721474579331-d98a15c3-23da-4e84-bb6b-8caa6745f400.png#averageHue=%23272727&clientId=u7a1e0cda-1053-4&from=paste&height=907&id=JmAf7&originHeight=1134&originWidth=1926&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=280073&status=done&style=none&taskId=ufe655883-f247-4c5b-a243-f41fdaae7bc&title=&width=1540.8)
# Entity Component System (ECS)

---

Spices Engine use ECS as the manage solution of game world objects
# Log System

---

log files Folder: **Spices-Engine/bin/Log/**<br />Use spdlog library to collection log information, and output in console、console ui、local files.

- Use macro enable spdlog collection

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721492063735-49b2a876-1885-4955-89fb-5b2c91128a8e.png#averageHue=%232b2a28&clientId=ue02393b1-df1c-4&from=paste&height=101&id=u28cbe381&originHeight=151&originWidth=1442&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=41849&status=done&style=none&taskId=u61bc0076-92e8-4bcd-87b8-1aa1169a30d&title=&width=961.3333333333334)

- Output to console

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721492243927-0cc7f692-04be-4b41-9d7d-f1ea633a35f5.png#averageHue=%23232323&clientId=ue02393b1-df1c-4&from=paste&height=340&id=ud7fcf6b6&originHeight=510&originWidth=959&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=49305&status=done&style=none&taskId=u5072e7ef-41bc-4286-8d1d-98a5cb8b97d&title=&width=639.3333333333334)

- Output to console ui

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721492267322-e802f1b5-b8aa-400c-b9bd-6c98986f06c6.png#averageHue=%239e9f9f&clientId=ue02393b1-df1c-4&from=paste&height=225&id=uad9d0e03&originHeight=337&originWidth=1998&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=82349&status=done&style=none&taskId=u3a446f6b-b4fa-4999-a70f-e9305108a80&title=&width=1332)

- Output to local files

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721492134375-7c0d1f28-07ee-4ae0-ac18-1daa800220c3.png#averageHue=%23fdfcfc&clientId=ue02393b1-df1c-4&from=paste&height=228&id=u31a61ed5&originHeight=342&originWidth=1190&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=29960&status=done&style=none&taskId=u97ffbad3-7205-48cb-81e9-2cb17d06476&title=&width=793.3333333333334)<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721492159980-b3928a6e-b59e-4803-b544-d1cd8b26d3d3.png#averageHue=%23f4f2f0&clientId=ue02393b1-df1c-4&from=paste&height=635&id=ub6dc877a&originHeight=953&originWidth=1460&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=134303&status=done&style=none&taskId=u22fed615-0f5c-401a-8957-d0b9eb9d7dd&title=&width=973.3333333333334)
# Documentation

---

Use Doxygen to generate project documents automatically.<br />Double Click **GenerateDocuments.bat** and it will generate html documents in folder **Document/** by  file **Doxyfile**.<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721494068619-1a647632-b5f3-44ef-b098-c5ff319705d9.png#averageHue=%23fcfbfb&clientId=u8190286b-2c81-4&from=paste&height=394&id=u6a034709&originHeight=394&originWidth=1207&originalType=binary&ratio=1&rotation=0&showTitle=false&size=39471&status=done&style=none&taskId=uec7d0377-84d7-4283-9c92-5e6253cd4d2&title=&width=1207)<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721493868616-0b9d66e2-94a7-43c5-b756-d95ea6eafc3b.png#averageHue=%23f4f6d3&clientId=u8190286b-2c81-4&from=paste&height=1318&id=u9dc1dc18&originHeight=1318&originWidth=2552&originalType=binary&ratio=1&rotation=0&showTitle=false&size=213012&status=done&style=none&taskId=u1a6e72b7-975a-4eb9-84fa-8504644a289&title=&width=2552)
# Rendering Pipeline Analysis

---

**Nsight Graphics - Frame Debugger**<br />Mark interested vulkan object and commands with those method, and looks them by Nsight Graphics.

- Application Executable: **/Spices-Engine/bin/Debug-windows-x86_64/SpicesGame/SpicesGame.exe**
- Working Directory: **/Spices-Engine/SpicesGame/**
- Turn option **Device Address C++ Support** to **NO**
- Turn option **Force Capture/Reply Device Memory** to **Yes**
- Turn option **Enable Coherent Buffer Collection** to **No**

Scrubber<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721495326286-59333550-372c-4273-b148-d482656901a9.png#averageHue=%23b68b43&clientId=u8190286b-2c81-4&from=paste&height=243&id=uf6517209&originHeight=243&originWidth=1533&originalType=binary&ratio=1&rotation=0&showTitle=false&size=35254&status=done&style=none&taskId=ue17206fb-69ec-48ac-93d5-c7488051200&title=&width=1533)<br />Pipeline<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721495435972-17157800-8a46-4c0d-a025-f97626b299e9.png#averageHue=%23373636&clientId=u8190286b-2c81-4&from=paste&height=565&id=ub4565dbe&originHeight=565&originWidth=1431&originalType=binary&ratio=1&rotation=0&showTitle=false&size=58993&status=done&style=none&taskId=u1e70faba-2f48-4ce7-82c4-e83e6134b17&title=&width=1431)<br />Events<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721495464697-fb5cf730-1cba-4a66-adc1-850b60231ed4.png#averageHue=%23353230&clientId=u8190286b-2c81-4&from=paste&height=903&id=u4ec03542&originHeight=903&originWidth=840&originalType=binary&ratio=1&rotation=0&showTitle=false&size=99915&status=done&style=none&taskId=ueefc18de-8350-4335-8a1d-820e348475f&title=&width=840)<br />DescriptorSets<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721495534433-49d855fc-086a-4069-8b13-b1acc49fc289.png#averageHue=%23333231&clientId=u8190286b-2c81-4&from=paste&height=512&id=ufb469aa0&originHeight=512&originWidth=1837&originalType=binary&ratio=1&rotation=0&showTitle=false&size=71403&status=done&style=none&taskId=u78a5641e-fb29-40b4-a92a-d8531f37bb5&title=&width=1837)<br />Vulkan Objects<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721495602321-636aeff3-33ca-4c40-9af6-948ddea911aa.png#averageHue=%23333131&clientId=u8190286b-2c81-4&from=paste&height=626&id=u660a470a&originHeight=626&originWidth=1047&originalType=binary&ratio=1&rotation=0&showTitle=false&size=52217&status=done&style=none&taskId=u564408d5-7142-429b-93fa-cc0268ae397&title=&width=1047)<br />Shader Profiler<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721495648808-0b48abb0-05d9-4b5e-a20a-eede617fa757.png#averageHue=%2331302f&clientId=u8190286b-2c81-4&from=paste&height=1044&id=u2070d675&originHeight=1044&originWidth=2560&originalType=binary&ratio=1&rotation=0&showTitle=false&size=247499&status=done&style=none&taskId=u383469ca-1c95-45a5-94d8-1a1b09a4a51&title=&width=2560)<br />Shader Time Heatmap<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721495710138-e4847e9d-021c-4e64-99ae-b47e8724cc8f.png#averageHue=%23023a96&clientId=u8190286b-2c81-4&from=paste&height=1391&id=u20b6a768&originHeight=1391&originWidth=2560&originalType=binary&ratio=1&rotation=0&showTitle=false&size=897753&status=done&style=none&taskId=ufe2b897e-b00d-4bff-b18b-71a84a89347&title=&width=2560)<br />**Nsight System**

- target: localhost connection
- Application Executable: **/Spices-Engine/bin/Debug-windows-x86_64/SpicesGame/SpicesGame.exe**
- Working Directory: **/Spices-Engine/SpicesGame/**
- Turn option **Collect Vulkan trace** to **ON**

Timeline View<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721496152950-67909867-ee1c-4162-911b-dbe23ffe2f38.png#averageHue=%23eeedec&clientId=u8190286b-2c81-4&from=paste&height=636&id=ub1c03759&originHeight=636&originWidth=1966&originalType=binary&ratio=1&rotation=0&showTitle=false&size=86833&status=done&style=none&taskId=u357d8919-adaf-4dd1-87bd-831aa3f38b6&title=&width=1966)<br />State System View<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721496224451-711ebccc-3671-471e-b281-24051202bb8f.png#averageHue=%23f7f6f4&clientId=u8190286b-2c81-4&from=paste&height=579&id=u3830d934&originHeight=579&originWidth=1940&originalType=binary&ratio=1&rotation=0&showTitle=false&size=126849&status=done&style=none&taskId=ueca10f2a-f855-4c13-80b0-f4e7441c13c&title=&width=1940)<br />**Nsight Graphics - GPU Trace**<br />Timeline<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721497152153-428a3ce5-3e28-4c64-b503-dbe85a2a996e.png#averageHue=%23584c35&clientId=u8190286b-2c81-4&from=paste&height=855&id=ue72c63f7&originHeight=855&originWidth=1905&originalType=binary&ratio=1&rotation=0&showTitle=false&size=108089&status=done&style=none&taskId=uf8730769-2a51-412c-9e18-9e59deced3e&title=&width=1905)<br />Summary<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721497254242-1aedaba6-50ef-4689-a7d0-bdab13298ff5.png#averageHue=%238e7b4d&clientId=u8190286b-2c81-4&from=paste&height=793&id=u608b5e71&originHeight=793&originWidth=606&originalType=binary&ratio=1&rotation=0&showTitle=false&size=206115&status=done&style=none&taskId=u16749c88-f681-47c1-ac7e-283cf81ad82&title=&width=606)<br />Metrics<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721497200847-30de5274-f215-48f7-b1b3-75b1a2879e67.png#averageHue=%23373634&clientId=u8190286b-2c81-4&from=paste&height=782&id=ua61f849c&originHeight=782&originWidth=592&originalType=binary&ratio=1&rotation=0&showTitle=false&size=48699&status=done&style=none&taskId=u9056edcc-37a4-44f8-9ef1-afaa6837c58&title=&width=592)<br />Barrier<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721497328103-7204b01b-97a4-4fc4-b304-93e7017e48bd.png#averageHue=%23373432&clientId=u3b3e0354-2883-4&from=paste&height=323&id=u2ec7a1a7&originHeight=323&originWidth=1740&originalType=binary&ratio=1&rotation=0&showTitle=false&size=63004&status=done&style=none&taskId=u8feaa2d8-a6e5-4088-8dfc-3b6a98b7539&title=&width=1740)

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721497366323-05464242-f2b1-4f44-8b08-b64ccae28ea8.png#averageHue=%23363534&clientId=u3b3e0354-2883-4&from=paste&height=272&id=u49168c5c&originHeight=272&originWidth=1851&originalType=binary&ratio=1&rotation=0&showTitle=false&size=43435&status=done&style=none&taskId=ub2e16143-bb15-4439-b1e1-b57c7c8361b&title=&width=1851)
# Performance Analysis 

---

In those files,  add **TRACY_ENABLE** macro

- **SpicesEngine/premake5.lua**
- **SpicesGame/premake5.lua**
- **SpicesTest/premake5.lua**

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721536014413-2d615142-584f-452d-a2bb-aa078ac195cd.png#averageHue=%23201f1f&clientId=uf73232b3-ecc6-4&from=paste&height=183&id=ua71f570e&originHeight=201&originWidth=859&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=15638&status=done&style=none&taskId=ud2e0a174-b8f9-42fd-8da8-4d2fcdf1892&title=&width=780.9090739833425)<br />Run **Startup.bat**<br />Run Project<br />Click **MainMenu - Window - Utilities - Profiler**<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721535990955-cc161a58-ef6a-4ec1-b6ce-ba9022fc542d.png#averageHue=%235b616c&clientId=uf73232b3-ecc6-4&from=paste&height=475&id=u4aaf9bb1&originHeight=522&originWidth=715&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=324141&status=done&style=none&taskId=ub7341e82-d665-4596-bf65-41f8d6b8764&title=&width=649.9999859116298)<br />Connect<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721536042067-57665d85-a49d-458c-be7a-6f3482b7db12.png#averageHue=%236b8895&clientId=uf73232b3-ecc6-4&from=paste&height=273&id=u8001901f&originHeight=300&originWidth=712&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=23975&status=done&style=none&taskId=u45fb819b-0958-4160-a4dc-a31ab0f3470&title=&width=647.2727132434691)<br />Frame Time![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721536091727-4ce8946d-d47e-46ac-bb3b-8b0eb1f7cff1.png#averageHue=%23373828&clientId=uf73232b3-ecc6-4&from=paste&height=842&id=udca1ef57&originHeight=926&originWidth=2560&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=240361&status=done&style=none&taskId=u1ad87b5a-bc22-47b7-9abe-fd03c4e513f&title=&width=2327.2726768304506)<br />zone<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721536295487-5202299a-1f55-4e35-8872-716c1d0e7198.png#averageHue=%23282820&clientId=uf73232b3-ecc6-4&from=paste&height=731&id=ucbbfb2ce&originHeight=804&originWidth=511&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=52581&status=done&style=none&taskId=u0a8b5401-cc80-4907-81fc-e452d393471&title=&width=464.5454444767032)<br />zone info<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721536319608-f653e24c-3034-4d66-8f4a-e22761080be6.png#averageHue=%2327261d&clientId=uf73232b3-ecc6-4&from=paste&height=871&id=u107f2be6&originHeight=958&originWidth=836&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=198418&status=done&style=none&taskId=u3b1c7520-85da-41f9-9dfe-8c779912bf4&title=&width=759.999983527444)<br />statistics<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721536336687-683535f6-2026-4431-bb54-f1153e1d2dfc.png#averageHue=%2326261e&clientId=uf73232b3-ecc6-4&from=paste&height=662&id=u93fc4c3c&originHeight=728&originWidth=1490&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=295427&status=done&style=none&taskId=ua8129117-8dd9-49d6-a891-15193bacd32&title=&width=1354.545425186473)
# Unit Test

---

All unit tests are located at folder **SpicesTest/src** as a project<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721552740552-12100a74-7ca1-4543-9d5f-204de0653af3.png#averageHue=%232c2c2b&clientId=uf73232b3-ecc6-4&from=paste&height=486&id=ufbeea045&originHeight=535&originWidth=1272&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=61183&status=done&style=none&taskId=u2210c2a7-43f1-427d-a5b1-1dca5def422&title=&width=1156.36361130013)
# Git Version Control

---

![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721552912226-c97b5d6f-1582-4bef-9bc2-bb07a3ac8b96.png#averageHue=%23fefefd&clientId=uf73232b3-ecc6-4&from=paste&height=832&id=u5f8bb9c1&originHeight=915&originWidth=1698&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=121818&status=done&style=none&taskId=u03011982-ea00-449a-b1a9-bb8d69957ed&title=&width=1543.6363301789472)<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721552971235-291b999d-927b-4253-8014-a6db00bb4c4e.png#averageHue=%23fefefe&clientId=uf73232b3-ecc6-4&from=paste&height=1045&id=ufdbab970&originHeight=1150&originWidth=1467&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=107718&status=done&style=none&taskId=u521ed215-9df5-4b21-aa75-eb67eb9d7f8&title=&width=1333.6363347305746)
# User Interface(Imgui)

---

User Interface is designed based on Nvidia USD Composer style<br />MainMenu<br />
viewpoet operation<br />
-**Alt + Mouse Left Button + Mouse Drag = Viewport Rotate**<br />
-**Alt + Mouse Middle Button + Mouse Drag = Viewport Translate**<br />
-**Alt +Mouse Right Button + Mouse Y Drag = Viewport Scale**<br />
-**Mouse Wheel = Viewport Scale**<br />
Object Select<br />
-**Mouse Left Button = Pick one Object**<br />
-**Mouse Left Button + Shift = Add Pick Object**<br />
-**Mouse Left Button + Ctrl = Sub Pick Object**<br />
Render Mode Switch<br />
-**ViewportToolbar Render Menu - Rasterization = Rasterization Mode**<br />
-**ViewportToolbar Render Menu - RTX-Interactive = Path Tracing Mode**<br />
Property Panel<br />
-**Pick one Object**<br />
Material Panel<br />
-**Pick one Object and click one material color icon**<br />
![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721553266885-9b37500d-c02e-4a3e-9ee6-a4ebde9b1a75.png#averageHue=%236b6f79&clientId=uf73232b3-ecc6-4&from=paste&height=521&id=ufe49f289&originHeight=573&originWidth=749&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=305373&status=done&style=none&taskId=u5b80bb96-1d78-42f5-9888-e3f50e91f13&title=&width=680.9090761507841)<br />stage<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721553031419-042db42d-29ed-4dfe-a8bc-4370ed10d5fe.png#averageHue=%23515151&clientId=uf73232b3-ecc6-4&from=paste&height=509&id=u67f79c83&originHeight=560&originWidth=522&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=73108&status=done&style=none&taskId=u64abf96e-7ac9-41c3-96f9-021f3099b5a&title=&width=474.545444259959)<br />Property<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721553169122-b8a144ba-7b7b-4b9b-a24b-965fff8fe751.png#averageHue=%231bdf1b&clientId=uf73232b3-ecc6-4&from=paste&height=678&id=u920f6fd6&originHeight=746&originWidth=523&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=60076&status=done&style=none&taskId=uc496f10d-76ea-46ba-9022-4e69c9a1e79&title=&width=475.45453514934593)<br />Material Panel<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721553195253-f9bc1a52-a7d0-4eca-971c-a943ea436e43.png#averageHue=%23323433&clientId=uf73232b3-ecc6-4&from=paste&height=508&id=u23bc9d47&originHeight=559&originWidth=527&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=47297&status=done&style=none&taskId=u2b8a3afe-4f05-4628-9984-ed53101c889&title=&width=479.09089870689354)<br />Console<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721553215980-2ba352e6-db3a-4980-89e6-4cfc184a0285.png#averageHue=%23212224&clientId=uf73232b3-ecc6-4&from=paste&height=305&id=u3ca1342e&originHeight=336&originWidth=2003&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=86911&status=done&style=none&taskId=u1ffacb54-f17e-4bb9-b41e-c4a042bd924&title=&width=1820.9090514419502)<br />Viewport<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721553239664-4be35d01-9317-45e9-8c78-d131d45db375.png#averageHue=%23667388&clientId=uf73232b3-ecc6-4&from=paste&height=878&id=u97504a6d&originHeight=966&originWidth=1991&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=2596285&status=done&style=none&taskId=uaf757af9-ed32-46b3-9202-0b5254e2353&title=&width=1809.9999607693073)<br />Gizmo<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/2894467/1721553322404-bb4d700f-03d7-462c-bafc-8dcd34e7852b.png#averageHue=%233b506b&clientId=uf73232b3-ecc6-4&from=paste&height=760&id=uadbb4435&originHeight=836&originWidth=1080&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=1472584&status=done&style=none&taskId=uf300c367-b953-46ac-a7e8-ec6281b91d0&title=&width=981.8181605378463)
